[tool:pytest]
minversion = 6.0
addopts = -ra -q --strict-markers --timeout=30 --tb=short
testpaths = tests
timeout = 30
timeout_method = thread
markers =
    unit: Unit tests (fast, isolated)
    integration: Integration tests (slower, may require external resources)
    orchestration: Orchestration tests (complex, may require multiple components)
    host: Host-related tests (MCP host functionality)
    mcp_server: MCP server integration tests
    requires_isolation: Tests that require complete state isolation
    slow: Slow tests that may take longer to run
    flaky: Tests that may be flaky due to timing or external dependencies
    timeout_override: Tests that need custom timeout settings
    fast: Fast tests that should run first
    critical: Critical tests that must pass
    external_deps: Tests that depend on external services
    performance: Performance-sensitive tests
    smoke: Smoke tests for basic functionality
python_files = test_*.py
python_classes = Test*
python_functions = test_*
filterwarnings =
    ignore::DeprecationWarning:pydantic.*
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
    ignore::UserWarning:pydantic.*
    ignore::UserWarning:litellm.*
    ignore::UserWarning:openai.*
    ignore::RuntimeWarning:asyncio.*
    ignore::UserWarning:pytest_timeout.*
    ignore::UserWarning:pytest_xdist.*
    ignore::ResourceWarning
asyncio_mode = auto
asyncio_default_fixture_loop_scope = function
collect_ignore = 
    build
    dist
    .tox
    node_modules
    Research-Paper-Archive
cache_dir = .pytest_cache
